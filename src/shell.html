<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Minesweeper</title>
    <link rel="icon" href="flag.ico">
    <style>
        body {
            margin: 0;
            background-color: #1c2026;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
        }

        canvas {
            max-width: 100vw;
            max-height: 100vh;
            image-rendering: pixelated;
        }
    </style>
</head>

<body>
    <canvas id="canvas" oncontextmenu="event.preventDefault()"></canvas>

    <script type='text/javascript'>
        var Module = {
            canvas: (function () {
                var canvas = document.getElementById('canvas');
                return canvas;
            })(),
            preRun: [function () {
                try {
                    if (typeof FS !== 'undefined') {
                        FS.mkdir('/persistent');
                        FS.mount(IDBFS, {}, '/persistent');
                        FS.syncfs(true, function (err) { });
                    }
                } catch (e) { }
            }]
        };

        window.sync_to_idbfs = function () {
            if (typeof FS !== 'undefined' && FS.syncfs) {
                FS.syncfs(false, function (err) { });
            }
        };
    </script>
    {{{ SCRIPT }}}
</body>

</html>